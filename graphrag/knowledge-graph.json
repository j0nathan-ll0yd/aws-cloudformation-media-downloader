{
  "nodes": [
    {
      "id": "lambda:ApiGatewayAuthorizer",
      "type": "Lambda",
      "properties": {
        "name": "ApiGatewayAuthorizer",
        "trigger": "API Gateway",
        "purpose": "Authorize API requests"
      }
    },
    {
      "id": "lambda:CloudfrontMiddleware",
      "type": "Lambda",
      "properties": {
        "name": "CloudfrontMiddleware",
        "trigger": "CloudFront",
        "purpose": "Edge processing"
      }
    },
    {
      "id": "lambda:FileCoordinator",
      "type": "Lambda",
      "properties": {
        "name": "FileCoordinator",
        "trigger": "S3 Event",
        "purpose": "Orchestrate file processing"
      }
    },
    {
      "id": "lambda:ListFiles",
      "type": "Lambda",
      "properties": {
        "name": "ListFiles",
        "trigger": "API Gateway",
        "purpose": "List user files"
      }
    },
    {
      "id": "lambda:LogClientEvent",
      "type": "Lambda",
      "properties": {
        "name": "LogClientEvent",
        "trigger": "API Gateway",
        "purpose": "Log client events"
      }
    },
    {
      "id": "lambda:LoginUser",
      "type": "Lambda",
      "properties": {
        "name": "LoginUser",
        "trigger": "API Gateway",
        "purpose": "Authenticate user"
      }
    },
    {
      "id": "lambda:PruneDevices",
      "type": "Lambda",
      "properties": {
        "name": "PruneDevices",
        "trigger": "CloudWatch Events",
        "purpose": "Clean inactive devices"
      }
    },
    {
      "id": "lambda:RefreshToken",
      "type": "Lambda",
      "properties": {
        "name": "RefreshToken",
        "trigger": "API Gateway",
        "purpose": "Refresh auth token"
      }
    },
    {
      "id": "lambda:RegisterDevice",
      "type": "Lambda",
      "properties": {
        "name": "RegisterDevice",
        "trigger": "API Gateway",
        "purpose": "Register device for push"
      }
    },
    {
      "id": "lambda:RegisterUser",
      "type": "Lambda",
      "properties": {
        "name": "RegisterUser",
        "trigger": "API Gateway",
        "purpose": "Register new user"
      }
    },
    {
      "id": "lambda:S3ObjectCreated",
      "type": "Lambda",
      "properties": {
        "name": "S3ObjectCreated",
        "trigger": "S3 Event",
        "purpose": "Handle S3 uploads"
      }
    },
    {
      "id": "lambda:SendPushNotification",
      "type": "Lambda",
      "properties": {
        "name": "SendPushNotification",
        "trigger": "Lambda Invoke",
        "purpose": "Send push notification"
      }
    },
    {
      "id": "lambda:StartFileUpload",
      "type": "Lambda",
      "properties": {
        "name": "StartFileUpload",
        "trigger": "API Gateway",
        "purpose": "Initiate file upload"
      }
    },
    {
      "id": "lambda:UserDelete",
      "type": "Lambda",
      "properties": {
        "name": "UserDelete",
        "trigger": "API Gateway",
        "purpose": "Delete user cascade"
      }
    },
    {
      "id": "lambda:UserSubscribe",
      "type": "Lambda",
      "properties": {
        "name": "UserSubscribe",
        "trigger": "API Gateway",
        "purpose": "Manage user subscriptions"
      }
    },
    {
      "id": "lambda:WebhookFeedly",
      "type": "Lambda",
      "properties": {
        "name": "WebhookFeedly",
        "trigger": "API Gateway",
        "purpose": "Process Feedly articles"
      }
    },
    {
      "id": "entity:Users",
      "type": "Entity",
      "properties": {
        "name": "Users"
      }
    },
    {
      "id": "entity:Files",
      "type": "Entity",
      "properties": {
        "name": "Files"
      }
    },
    {
      "id": "entity:Devices",
      "type": "Entity",
      "properties": {
        "name": "Devices"
      }
    },
    {
      "id": "entity:UserFiles",
      "type": "Entity",
      "properties": {
        "name": "UserFiles"
      }
    },
    {
      "id": "entity:UserDevices",
      "type": "Entity",
      "properties": {
        "name": "UserDevices"
      }
    },
    {
      "id": "service:DynamoDB",
      "type": "Service",
      "properties": {
        "name": "DynamoDB",
        "type": "database"
      }
    },
    {
      "id": "service:S3",
      "type": "Service",
      "properties": {
        "name": "S3",
        "type": "storage"
      }
    },
    {
      "id": "service:SNS",
      "type": "Service",
      "properties": {
        "name": "SNS",
        "type": "notification"
      }
    },
    {
      "id": "service:API Gateway",
      "type": "Service",
      "properties": {
        "name": "API Gateway",
        "type": "api"
      }
    },
    {
      "id": "service:Step Functions",
      "type": "Service",
      "properties": {
        "name": "Step Functions",
        "type": "orchestration"
      }
    },
    {
      "id": "service:CloudWatch",
      "type": "Service",
      "properties": {
        "name": "CloudWatch",
        "type": "monitoring"
      }
    },
    {
      "id": "service:CloudFront",
      "type": "Service",
      "properties": {
        "name": "CloudFront",
        "type": "cdn"
      }
    },
    {
      "id": "external:Feedly",
      "type": "External",
      "properties": {
        "name": "Feedly"
      }
    },
    {
      "id": "external:YouTube",
      "type": "External",
      "properties": {
        "name": "YouTube"
      }
    },
    {
      "id": "external:APNS",
      "type": "External",
      "properties": {
        "name": "APNS"
      }
    },
    {
      "id": "external:Sign In With Apple",
      "type": "External",
      "properties": {
        "name": "Sign In With Apple"
      }
    },
    {
      "id": "external:GitHub",
      "type": "External",
      "properties": {
        "name": "GitHub"
      }
    }
  ],
  "edges": [
    {
      "source": "lambda:ApiGatewayAuthorizer",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:ApiGatewayAuthorizer",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:CloudfrontMiddleware",
      "target": "service:CloudFront",
      "relationship": "uses"
    },
    {
      "source": "lambda:FileCoordinator",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:FileCoordinator",
      "target": "service:S3",
      "relationship": "uses"
    },
    {
      "source": "lambda:FileCoordinator",
      "target": "service:Step Functions",
      "relationship": "uses"
    },
    {
      "source": "lambda:ListFiles",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:ListFiles",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:LogClientEvent",
      "target": "service:CloudWatch",
      "relationship": "uses"
    },
    {
      "source": "lambda:LogClientEvent",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:LoginUser",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:LoginUser",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:LoginUser",
      "target": "external:Sign In With Apple",
      "relationship": "uses"
    },
    {
      "source": "lambda:PruneDevices",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:PruneDevices",
      "target": "service:SNS",
      "relationship": "uses"
    },
    {
      "source": "lambda:PruneDevices",
      "target": "service:CloudWatch",
      "relationship": "uses"
    },
    {
      "source": "lambda:RefreshToken",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:RefreshToken",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:RegisterDevice",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:RegisterDevice",
      "target": "service:SNS",
      "relationship": "uses"
    },
    {
      "source": "lambda:RegisterDevice",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:RegisterUser",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:RegisterUser",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:RegisterUser",
      "target": "external:Sign In With Apple",
      "relationship": "uses"
    },
    {
      "source": "lambda:S3ObjectCreated",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:S3ObjectCreated",
      "target": "service:S3",
      "relationship": "uses"
    },
    {
      "source": "lambda:SendPushNotification",
      "target": "service:SNS",
      "relationship": "uses"
    },
    {
      "source": "lambda:SendPushNotification",
      "target": "external:APNS",
      "relationship": "uses"
    },
    {
      "source": "lambda:StartFileUpload",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:StartFileUpload",
      "target": "service:S3",
      "relationship": "uses"
    },
    {
      "source": "lambda:StartFileUpload",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:UserDelete",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:UserDelete",
      "target": "service:S3",
      "relationship": "uses"
    },
    {
      "source": "lambda:UserDelete",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:UserSubscribe",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:UserSubscribe",
      "target": "service:SNS",
      "relationship": "uses"
    },
    {
      "source": "lambda:UserSubscribe",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:WebhookFeedly",
      "target": "service:DynamoDB",
      "relationship": "uses"
    },
    {
      "source": "lambda:WebhookFeedly",
      "target": "service:S3",
      "relationship": "uses"
    },
    {
      "source": "lambda:WebhookFeedly",
      "target": "service:API Gateway",
      "relationship": "uses"
    },
    {
      "source": "lambda:WebhookFeedly",
      "target": "external:Feedly",
      "relationship": "uses"
    },
    {
      "source": "lambda:WebhookFeedly",
      "target": "external:YouTube",
      "relationship": "uses"
    },
    {
      "source": "lambda:FileCoordinator",
      "target": "lambda:StartFileUpload",
      "relationship": "invokes",
      "properties": {
        "via": "Lambda invokeAsync"
      }
    },
    {
      "source": "lambda:S3ObjectCreated",
      "target": "lambda:SendPushNotification",
      "relationship": "triggers",
      "properties": {
        "via": "SQS"
      }
    },
    {
      "source": "lambda:ApiGatewayAuthorizer",
      "target": "entity:Users",
      "relationship": "accesses"
    },
    {
      "source": "lambda:FileCoordinator",
      "target": "entity:Files",
      "relationship": "accesses"
    },
    {
      "source": "lambda:ListFiles",
      "target": "entity:Users",
      "relationship": "accesses"
    },
    {
      "source": "lambda:ListFiles",
      "target": "entity:UserFiles",
      "relationship": "accesses"
    },
    {
      "source": "lambda:ListFiles",
      "target": "entity:Files",
      "relationship": "accesses"
    },
    {
      "source": "lambda:LoginUser",
      "target": "entity:Users",
      "relationship": "accesses"
    },
    {
      "source": "lambda:PruneDevices",
      "target": "entity:Devices",
      "relationship": "accesses"
    },
    {
      "source": "lambda:PruneDevices",
      "target": "entity:UserDevices",
      "relationship": "accesses"
    },
    {
      "source": "lambda:RefreshToken",
      "target": "entity:Users",
      "relationship": "accesses"
    },
    {
      "source": "lambda:RegisterDevice",
      "target": "entity:Users",
      "relationship": "accesses"
    },
    {
      "source": "lambda:RegisterDevice",
      "target": "entity:Devices",
      "relationship": "accesses"
    },
    {
      "source": "lambda:RegisterDevice",
      "target": "entity:UserDevices",
      "relationship": "accesses"
    },
    {
      "source": "lambda:RegisterUser",
      "target": "entity:Users",
      "relationship": "accesses"
    },
    {
      "source": "lambda:S3ObjectCreated",
      "target": "entity:Files",
      "relationship": "accesses"
    },
    {
      "source": "lambda:S3ObjectCreated",
      "target": "entity:UserFiles",
      "relationship": "accesses"
    },
    {
      "source": "lambda:StartFileUpload",
      "target": "entity:Users",
      "relationship": "accesses"
    },
    {
      "source": "lambda:StartFileUpload",
      "target": "entity:Files",
      "relationship": "accesses"
    },
    {
      "source": "lambda:StartFileUpload",
      "target": "entity:UserFiles",
      "relationship": "accesses"
    },
    {
      "source": "lambda:UserDelete",
      "target": "entity:Users",
      "relationship": "accesses"
    },
    {
      "source": "lambda:UserDelete",
      "target": "entity:UserFiles",
      "relationship": "accesses"
    },
    {
      "source": "lambda:UserDelete",
      "target": "entity:UserDevices",
      "relationship": "accesses"
    },
    {
      "source": "lambda:UserDelete",
      "target": "entity:Files",
      "relationship": "accesses"
    },
    {
      "source": "lambda:UserDelete",
      "target": "entity:Devices",
      "relationship": "accesses"
    },
    {
      "source": "lambda:UserSubscribe",
      "target": "entity:Users",
      "relationship": "accesses"
    },
    {
      "source": "lambda:UserSubscribe",
      "target": "entity:UserDevices",
      "relationship": "accesses"
    },
    {
      "source": "lambda:WebhookFeedly",
      "target": "entity:Files",
      "relationship": "accesses"
    },
    {
      "source": "entity:Users",
      "target": "entity:UserFiles",
      "relationship": "has_many"
    },
    {
      "source": "entity:Users",
      "target": "entity:UserDevices",
      "relationship": "has_many"
    },
    {
      "source": "entity:Files",
      "target": "entity:UserFiles",
      "relationship": "has_many"
    },
    {
      "source": "entity:Devices",
      "target": "entity:UserDevices",
      "relationship": "has_many"
    },
    {
      "source": "entity:UserFiles",
      "target": "entity:Users",
      "relationship": "belongs_to"
    },
    {
      "source": "entity:UserFiles",
      "target": "entity:Files",
      "relationship": "belongs_to"
    },
    {
      "source": "entity:UserDevices",
      "target": "entity:Users",
      "relationship": "belongs_to"
    },
    {
      "source": "entity:UserDevices",
      "target": "entity:Devices",
      "relationship": "belongs_to"
    },
    {
      "source": "service:API Gateway",
      "target": "service:Lambda",
      "relationship": "triggers"
    },
    {
      "source": "service:S3",
      "target": "service:Lambda",
      "relationship": "triggers",
      "properties": {
        "event": "s3:ObjectCreated"
      }
    },
    {
      "source": "service:CloudWatch",
      "target": "service:Lambda",
      "relationship": "triggers",
      "properties": {
        "event": "scheduled"
      }
    }
  ],
  "metadata": {
    "created": "2025-11-28T22:50:36.085Z",
    "version": "1.0.0",
    "description": "Media Downloader Lambda chains and entity relationships"
  }
}