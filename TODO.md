# TODOs

## Conditional functionality

When I first started this project, I imagined it being a solid starting point for building any mobile application. But I also wanted it to be easy to stand-up, so that if you didn't want to configure all the functionality out-of-the-box you didn't have to. 

This is why you see methods like 'verifyPlatformConfiguration' in RegisterDevice. It's a pain to setup push notifications so if your App wasn't going to need push notifications, this project would still work.

I'm also considering the samething with Github Issue creation. If the user hasn't put that secret in our secrets file, those operations should just gracefully exit until they're configured.

Before we implement this discrete use case. Is there any other existing functionality in this project you think should be treated the same?


## Enabling a full end-to-end test in production

Today, I don't have a way to test the entire application flow end-to-end. I can test **parts** of it, but I've been limited because of the interactions with iOS. For example:

* npm run test-remote-list - Tests the ListFiles lambda as an anonymous user
* npm run test-remote-hook - Tests the WebhookFeedly lambda as an authorized or unauthorized user (thanks to the isRemoteTestRequest method in the API Gateway)

But it's not testing every method available in the API Gateway. These are some of the challenges:

* RegisterDevice requires a device ID and token generated by an iOS device
* UserSubscribe requires an already-registered device
* RegisterUser requires an authorizationCode that get's verified by Apple
* LoginUser also requires an authorizationCode that get's verified by Apple

Perhaps there is a way to simulate or mock these payloads (which would be ideal) or perhaps we need to build a non-Apple login and registration method as well.

But, if we could simulate all these things in production we could do a full end-to-end test:

- Calling the ListFiles endpoint anonymously, confirming only the default file is present
- Registering a device and subscribing to an SNS topic
- Registering a user and downloading a file
- Calling the ListFiles endpoint again, now seeing the downloaded file, instead of the default

And lastly is the push notification, but that would be extremely hard to simulate I imagine. What are your thoughts?
