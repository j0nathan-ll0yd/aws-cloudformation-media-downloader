import * as sinon from 'sinon'
import * as chai from 'chai'
import {handler} from '../src'
import {testContext} from '../../src/util/mocha-setup'
import {ScheduledEvent} from 'aws-lambda'
const expect = chai.expect

describe('#{{name}}', () => {
  const event: ScheduledEvent = {
    'detail-type': 'Scheduled Event',
    account: '',
    detail: undefined,
    id: '',
    region: '',
    resources: [],
    source: '',
    time: '',
    version: ''
  }
  const context = testContext
  beforeEach(() => {
    // Pre-test hooks here; generally stubs
  })
  afterEach(() => {
    // Post-test hooks here; restoring stubs
  })
  it('should handle a scheduled event', async () => {
    const output = await handler(event, context)
    expect(output.statusCode).to.equal(200)
  })
})
