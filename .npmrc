# ============================================================================
# PNPM-SPECIFIC CONFIGURATION
# ============================================================================
# This project uses pnpm exclusively (enforced via packageManager in package.json)
# Settings below are pnpm-specific - npm warnings about "unknown project config"
# can be safely ignored if npm is accidentally invoked
#
# ============================================================================
# SECURITY HARDENING: Lifecycle Script Protection
# ============================================================================
# Disable all lifecycle scripts by default (pnpm v10+ feature)
# This prevents malicious packages from executing code during installation
# Protects against: Typosquatting, supply chain attacks, AI-hallucinated packages
enable-pre-post-scripts=false

# Explicitly allowlist packages requiring scripts (AUDIT BEFORE ADDING)
# Expected: NONE for this project (all pure JS/TS dependencies)
# If needed in future:
# pnpm.onlyBuiltDependencies[]=package-name

# Supply chain security - delay installation of newly published packages
# Protects against rapid malware deployment attacks
minimum-release-age=3d

# Exclude specific packages from minimum-release-age (security patches)
# tar@7.5.3: Fixes GHSA-8qq5-rm4j-mr97 (path traversal vulnerability)
minimum-release-age-exclude[]=tar

# ============================================================================
# PERFORMANCE OPTIMIZATION
# ============================================================================
# Use hard links (faster, disk-efficient)
package-import-method=hardlink

# Strict peer dependencies (catch compatibility issues)
strict-peer-dependencies=false

# Hoist pattern (compatibility with some tools)
shamefully-hoist=false

# ============================================================================
# FUTURE: WORKSPACE CONFIGURATION
# ============================================================================
# Enable when migrating to monorepo architecture
# recursive-install=false
# link-workspace-packages=true
